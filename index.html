<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WhatsApp Link Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <style>
        body {
            background-color: #f4f4f4;
            font-family: Arial, sans-serif;
        }

        /* Estilos CSS (mantive os estilos originais) */
        /* ... */
    </style>
</head>
<body>
    <div class="container">
        <div class="top-buttons">
            <a href="index.php" class="green-button home-button">Home</a>
            <a href="missao.html" class="green-button mission-button">Missão</a>
            <a href="sobremim.html" class="green-button about-button">Sobre Mim</a>
            <a href="contato.html" class="green-button contact-button">Contato</a>
        </div>
        <img src="logozap.png" alt="WhatsApp Logo" style="display: block; margin: 0 auto; width: 100px; height: 100px;">
        <h1>Crie seu link personalizado</h1>
        <p>Adicione seu número:</p>
        <form onsubmit="generateLink(event)">
            <div class="input-wrapper">
                <select id="country" name="country" required class="country-select">
                    <option value="">Selecione o país</option>
                    <option value="1">USA</option>
                    <option value="55">Brazil</option>
                    <option value="86">China</option>
                    <option value="351">Portugal</option>
                    <option value="44">UK</option>
                </select>
                <input type="text" id="city" name="city" maxlength="3" class="small-input" placeholder="DDD" required oninput="validateNumberInput(this)">
                <input type="text" id="phone" name="phone" maxlength="12" class="large-input" placeholder="Seu número" required oninput="validateNumberInput(this)">
            </div>
            <div class="input-wrapper">
                <input type="text" id="yourbusiness" name="yourbusiness" placeholder="Escolha o nome" required>
            </div>
            <br>
            <input type="submit" value="Gere o link">
        </form>
        <div id="generated-link"></div>
    </div>

    <script>
        function validateNumberInput(inputElement) {
            const inputValue = inputElement.value;
            const isNumber = /^\d+$/.test(inputValue);
            const errorElement = document.getElementById(inputElement.id + '-error');
            let error = false;

            if (!isNumber) {
                error = true;
                inputElement.classList.add('error');
            } else {
                error = false;
                inputElement.classList.remove('error');
            }

            errorElement.textContent = error ? 'Please enter a valid number' : '';
        }

        function generateLink(event) {
            event.preventDefault();

            const countrySelect = document.getElementById('country');
            const countryCode = countrySelect.value;
            const cityInput = document.getElementById('city');
            const phoneInput = document.getElementById('phone');
            const isCityValid = /^\d{1,3}$/.test(cityInput.value);
            const isPhoneValid = /^\d+$/.test(phoneInput.value);

            if (!isCityValid || !isPhoneValid) {
                return;
            }

            const city = cityInput.value;
            const phone = phoneInput.value;
            const businessName = document.getElementById('yourbusiness').value;

            const link = `https://whats.men/${encodeURIComponent(businessName)}`;
            const waLink = `https://wa.me/${countryCode}${city}${phone}?text=${encodeURIComponent(businessName)}`;

            const generatedLinkElement = document.getElementById('generated-link');
            generatedLinkElement.innerHTML = `
                <p>Seu link personalizado: <a href="${waLink}" target="_blank">${link}</a></p>
                <button onclick="copyLink('${waLink}')">Copiar</button>
            `;
        }

        function copyLink(link) {
            const tempInput = document.createElement('input');
            tempInput.value = link;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            alert('Link copiado com sucesso!');
        }
    </script>
</body>
</html>
